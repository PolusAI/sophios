steps:
# Since setup.yml also calls min.yml, if we directly pass &min.tpr to grompp in
# steep.yml, then there will be a copy of &min.tpr at each call site.
# We only want to make a reference to min.tpr after minimizing in solvent,
# (i.e. immediately before molecular dynamics) so we can extract &min.tpr
# to this level and use the following syntax to pass it to only one call site.
# (Moreover, the former will create multiple definitions of &min.tpr, which is not allowed.)
  - min.yml:
# Pass the CWL `in` tag as a parameter through BOTH of the yml DSL tags steep.yml and grompp.
# Use (1-based) indexing to uniquely reference (step_number, step_name).
      (1, steep.yml):
        (1, grompp):
          in:
            output_tpr_path: '&min.tpr'
  - equil.yml:
  - prod.yml: